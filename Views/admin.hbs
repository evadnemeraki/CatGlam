<div id="panel" class="container-fluid no-gutters">
  <div class="row no-gutters">
    <div id="sidebar" class="col-lg-2 col-md-3">
      <nav id="panelnav">
<ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link active" href="#">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg>
              Bandeja <span class="sr-only">(current)</span>
                        </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline></svg>
              Productos
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-shopping-cart"><circle cx="9" cy="21" r="1"></circle><circle cx="20" cy="21" r="1"></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path></svg>
              Pedidos
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-users"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
              Clientes
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-bar-chart-2"><line x1="18" y1="20" x2="18" y2="10"></line><line x1="12" y1="20" x2="12" y2="4"></line><line x1="6" y1="20" x2="6" y2="14"></line></svg>
              Reportes
            </a>
          </li>
        </ul>
      </nav>
    </div>
    <div id="paneltablecontainer" class="col-lg-10 col-md-9 text-center">
      <div id="tablecenter">
        <table role="table" class="table table-bordered text-center">
        <thead role="rowgroup">
          <tr role="row">
            <th role="columnheader" class="text-center" style="display: none;">Id</th>
            <th role="columnheader" class="text-center">Producto</th>
            <th role="columnheader" class="text-center">Descripción</th>
            <th role="columnheader" class="text-center">Categoría</th>
            <th role="columnheader" class="text-center">Precio</th>
            <th role="columnheader" class="text-center">Stock</th>
            <th role="columnheader" class="text-center">Imagen</th>
            <th role="columnheader" class="text-center">Cambios</th>
          </tr>
        </thead>
        <tbody role="rowgroup">
          {{#each productos}}
          <tr role="row">
            <td role="cell" style="display: none;">{{id_p}}</td>
            <td role="cell" contenteditable="true">{{nombre_p}}</td>
            <td role="cell" contenteditable="true">{{descripcion_p}}</td>
            <td role="cell" contenteditable="true">{{nombre_c}}</td>
            <td role="cell" contenteditable="true">{{precio_p}}</td>
            <td role="cell" contenteditable="true">{{stock_p}}</td>
            <td role="cell"><img src="{{imagen_p}}" style="width: 5rem;"></td>
            <td role="cell"> <!-- BOTÓN --><button type="button" class="botonmodif btn btn-success btn-rounded btn-sm my-0 m-1">Guardar</button>
              <span class="table-remove"><button type="button" class="btnDelete btn btn-danger btn-rounded btn-sm my-0"><a href="/micuenta">Eliminar</a></button></span>
            </td>
          </tr>
          {{/each}}
          <!-- AGREGAR PRODUCTO -->
          <tr role="row" id="agregarproducto">
            <td role="cell" contenteditable="true">NOMBRE PRODUCTO</td>
            <td role="cell" contenteditable="true">DESCRIPCIÓN</td>
            <td role="cell" contenteditable="true">CATEGORÍA</td>
            <td role="cell" contenteditable="true">PRECIO</td>
            <td role="cell" contenteditable="true">STOCK</td>
            <td role="cell" contenteditable="true">IMAGEN</td>
            <td role="cell" contenteditable="true"><button type="button"
                  class="btn btn-success btn-rounded btn-sm my-0">Guardar</button></td>
          </tr>
        </tbody>
        </table>
        <script>
          $('.table tbody').on('click', '.botonmodif', function(){
            var currow = $(this).closest('tr');
            var id = currow.find('td:eq(0)').text();
            var nombre = currow.find('td:eq(1)').text();
            var descripcion = currow.find('td:eq(2)').text();
            var categoria = currow.find('td:eq(3)').text();
            var precio = currow.find('td:eq(4)').text();
            var stock = currow.find('td:eq(5)').text();
            var producto = {
              id, nombre, descripcion, categoria, precio, stock
            }
 
            $.ajax({
              type: "POST", url: "http://localhost:3000/micuenta/modificar/",
              cache: "false",contentType: "application/json",
              headers: {
                "Content-Type" : "application/json"
              },
              data:  JSON.stringify(producto),
             
            })

          })
        </script>

        <script>
          $('.table tbody').on('click', '.btnDelete', function(){
             var currow = $(this).closest('tr');
            var id = currow.find('td:eq(0)').text();

          $.ajax({
              type: "DELETE", url: "http://localhost:3000/micuenta/eliminar/"+id,
              cache: "false",contentType: "application/json",
              headers: {
                "Content-Type" : "application/json"
              }
            })
            })
        </script>
      </div>
    </div>
  </div>
</div>